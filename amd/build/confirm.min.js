define ("local_message/confirm",["jquery","core/modal_factory","core/str","core/modal_events","core/ajax","core/notification"],function(a,b,c,d,f,g){var h=a(".local_message_delete_button");b.create({type:b.types.SAVE_CANCEL,title:c.get_string("delete_message","local_message"),body:c.get_string("delete_message_confirm","local_message"),preShowCallback:function preShowCallback(b,d){var b=a(b[0]),e=b.data("id");d.params={message_id:e};d.setSaveButtonText(c.get_string("delete_message","local_message"))}},h).done(function(a){a.getRoot().on(d.save,function(b){b.preventDefault();Y.log(a.params);var d={methodname:"local_message_delete_message",args:a.params},e=Y.one(".modal-footer");e.setContent("Deleting...");var h=M.util.add_spinner(Y,e);h.show();f.call([d])[0].done(function(a){if(!0===a){window.location.reload()}else{g.addNotification({message:c.get_string("error_deleting_message","local_message"),type:"error"})}}).fail(g.exception)})})});
//# sourceMappingURL=confirm.min.js.map
